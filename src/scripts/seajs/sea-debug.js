!function(global,undefined){function isType(type){return function(obj){return{}.toString.call(obj)=="[object "+type+"]"}}function cid(){return _cid++}function dirname(path){return path.match(DIRNAME_RE)[0]}function realpath(path){for(path=path.replace(DOT_RE,"/"),path=path.replace(MULTI_SLASH_RE,"$1/");path.match(DOUBLE_DOT_RE);)path=path.replace(DOUBLE_DOT_RE,"/");return path}function normalize(path){var last=path.length-1,lastC=path.charAt(last);return"#"===lastC?path.substring(0,last):".js"===path.substring(last-2)||path.indexOf("?")>0||"/"===lastC?path:path+".js"}function parseAlias(id){var alias=data.alias;return alias&&isString(alias[id])?alias[id]:id}function parsePaths(id){var m,paths=data.paths;return paths&&(m=id.match(PATHS_RE))&&isString(paths[m[1]])&&(id=paths[m[1]]+m[2]),id}function parseVars(id){var vars=data.vars;return vars&&id.indexOf("{")>-1&&(id=id.replace(VARS_RE,function(m,key){return isString(vars[key])?vars[key]:m})),id}function parseMap(uri){var map=data.map,ret=uri;if(map)for(var i=0,len=map.length;len>i;i++){var rule=map[i];if(ret=isFunction(rule)?rule(uri)||uri:uri.replace(rule[0],rule[1]),ret!==uri)break}return ret}function addBase(id,refUri){var ret,first=id.charAt(0);if(ABSOLUTE_RE.test(id))ret=id;else if("."===first)ret=realpath((refUri?dirname(refUri):data.cwd)+id);else if("/"===first){var m=data.cwd.match(ROOT_DIR_RE);ret=m?m[0]+id.substring(1):id}else ret=data.base+id;return 0===ret.indexOf("//")&&(ret=location.protocol+ret),ret}function id2Uri(id,refUri){if(!id)return"";id=parseAlias(id),id=parsePaths(id),id=parseVars(id),id=normalize(id);var uri=addBase(id,refUri);return uri=parseMap(uri)}function getScriptAbsoluteSrc(node){return node.hasAttribute?node.src:node.getAttribute("src",4)}function request(url,callback,charset){var node=doc.createElement("script");if(charset){var cs=isFunction(charset)?charset(url):charset;cs&&(node.charset=cs)}addOnload(node,callback,url),node.async=!0,node.src=url,currentlyAddingScript=node,baseElement?head.insertBefore(node,baseElement):head.appendChild(node),currentlyAddingScript=null}function addOnload(node,callback,url){function onload(){node.onload=node.onerror=node.onreadystatechange=null,data.debug||head.removeChild(node),node=null,callback()}var supportOnload="onload"in node;supportOnload?(node.onload=onload,node.onerror=function(){emit("error",{uri:url,node:node}),onload()}):node.onreadystatechange=function(){/loaded|complete/.test(node.readyState)&&onload()}}function getCurrentScript(){if(currentlyAddingScript)return currentlyAddingScript;if(interactiveScript&&"interactive"===interactiveScript.readyState)return interactiveScript;for(var scripts=head.getElementsByTagName("script"),i=scripts.length-1;i>=0;i--){var script=scripts[i];if("interactive"===script.readyState)return interactiveScript=script}}function parseDependencies(code){var ret=[];return code.replace(SLASH_RE,"").replace(REQUIRE_RE,function(m,m1,m2){m2&&ret.push(m2)}),ret}function Module(uri,deps){this.uri=uri,this.dependencies=deps||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!global.seajs){var seajs=global.seajs={version:"2.3.0"},data=seajs.data={},isObject=isType("Object"),isString=isType("String"),isArray=Array.isArray||isType("Array"),isFunction=isType("Function"),_cid=0,events=data.events={};seajs.on=function(name,callback){var list=events[name]||(events[name]=[]);return list.push(callback),seajs},seajs.off=function(name,callback){if(!name&&!callback)return events=data.events={},seajs;var list=events[name];if(list)if(callback)for(var i=list.length-1;i>=0;i--)list[i]===callback&&list.splice(i,1);else delete events[name];return seajs};var emit=seajs.emit=function(name,data){var list=events[name];if(list){list=list.slice();for(var i=0,len=list.length;len>i;i++)list[i](data)}return seajs},DIRNAME_RE=/[^?#]*\//,DOT_RE=/\/\.\//g,DOUBLE_DOT_RE=/\/[^/]+\/\.\.\//,MULTI_SLASH_RE=/([^:/])\/+\//g,PATHS_RE=/^([^/:]+)(\/.+)$/,VARS_RE=/{([^{]+)}/g,ABSOLUTE_RE=/^\/\/.|:\//,ROOT_DIR_RE=/^.*?\/\/.*?\//,doc=document,cwd=location.href&&0!==location.href.indexOf("about:")?dirname(location.href):"",scripts=doc.scripts,loaderScript=doc.getElementById("seajsnode")||scripts[scripts.length-1],loaderDir=dirname(getScriptAbsoluteSrc(loaderScript)||cwd);seajs.resolve=id2Uri;var currentlyAddingScript,interactiveScript,head=doc.head||doc.getElementsByTagName("head")[0]||doc.documentElement,baseElement=head.getElementsByTagName("base")[0];seajs.request=request;var anonymousMeta,REQUIRE_RE=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,SLASH_RE=/\\\\/g,cachedMods=seajs.cache={},fetchingList={},fetchedList={},callbackList={},STATUS=Module.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};Module.prototype.resolve=function(){for(var mod=this,ids=mod.dependencies,uris=[],i=0,len=ids.length;len>i;i++)uris[i]=Module.resolve(ids[i],mod.uri);return uris},Module.prototype.load=function(){var mod=this;if(!(mod.status>=STATUS.LOADING)){mod.status=STATUS.LOADING;var uris=mod.resolve();emit("load",uris);for(var m,len=mod._remain=uris.length,i=0;len>i;i++)m=Module.get(uris[i]),m.status<STATUS.LOADED?m._waitings[mod.uri]=(m._waitings[mod.uri]||0)+1:mod._remain--;if(0===mod._remain)return void mod.onload();var requestCache={};for(i=0;len>i;i++)m=cachedMods[uris[i]],m.status<STATUS.FETCHING?m.fetch(requestCache):m.status===STATUS.SAVED&&m.load();for(var requestUri in requestCache)requestCache.hasOwnProperty(requestUri)&&requestCache[requestUri]()}},Module.prototype.onload=function(){var mod=this;mod.status=STATUS.LOADED,mod.callback&&mod.callback();var uri,m,waitings=mod._waitings;for(uri in waitings)waitings.hasOwnProperty(uri)&&(m=cachedMods[uri],m._remain-=waitings[uri],0===m._remain&&m.onload());delete mod._waitings,delete mod._remain},Module.prototype.fetch=function(requestCache){function sendRequest(){seajs.request(emitData.requestUri,emitData.onRequest,emitData.charset)}function onRequest(){delete fetchingList[requestUri],fetchedList[requestUri]=!0,anonymousMeta&&(Module.save(uri,anonymousMeta),anonymousMeta=null);var m,mods=callbackList[requestUri];for(delete callbackList[requestUri];m=mods.shift();)m.load()}var mod=this,uri=mod.uri;mod.status=STATUS.FETCHING;var emitData={uri:uri};emit("fetch",emitData);var requestUri=emitData.requestUri||uri;return!requestUri||fetchedList[requestUri]?void mod.load():fetchingList[requestUri]?void callbackList[requestUri].push(mod):(fetchingList[requestUri]=!0,callbackList[requestUri]=[mod],emit("request",emitData={uri:uri,requestUri:requestUri,onRequest:onRequest,charset:data.charset}),void(emitData.requested||(requestCache?requestCache[emitData.requestUri]=sendRequest:sendRequest())))},Module.prototype.exec=function(){function require(id){return Module.get(require.resolve(id)).exec()}var mod=this;if(mod.status>=STATUS.EXECUTING)return mod.exports;mod.status=STATUS.EXECUTING;var uri=mod.uri;require.resolve=function(id){return Module.resolve(id,uri)},require.async=function(ids,callback){return Module.use(ids,callback,uri+"_async_"+cid()),require};var factory=mod.factory,exports=isFunction(factory)?factory(require,mod.exports={},mod):factory;return exports===undefined&&(exports=mod.exports),delete mod.factory,mod.exports=exports,mod.status=STATUS.EXECUTED,emit("exec",mod),exports},Module.resolve=function(id,refUri){var emitData={id:id,refUri:refUri};return emit("resolve",emitData),emitData.uri||seajs.resolve(emitData.id,refUri)},Module.define=function(id,deps,factory){var argsLen=arguments.length;1===argsLen?(factory=id,id=undefined):2===argsLen&&(factory=deps,isArray(id)?(deps=id,id=undefined):deps=undefined),!isArray(deps)&&isFunction(factory)&&(deps=parseDependencies(factory.toString()));var meta={id:id,uri:Module.resolve(id),deps:deps,factory:factory};if(!meta.uri&&doc.attachEvent){var script=getCurrentScript();script&&(meta.uri=script.src)}emit("define",meta),meta.uri?Module.save(meta.uri,meta):anonymousMeta=meta},Module.save=function(uri,meta){var mod=Module.get(uri);mod.status<STATUS.SAVED&&(mod.id=meta.id||uri,mod.dependencies=meta.deps||[],mod.factory=meta.factory,mod.status=STATUS.SAVED,emit("save",mod))},Module.get=function(uri,deps){return cachedMods[uri]||(cachedMods[uri]=new Module(uri,deps))},Module.use=function(ids,callback,uri){var mod=Module.get(uri,isArray(ids)?ids:[ids]);mod.callback=function(){for(var exports=[],uris=mod.resolve(),i=0,len=uris.length;len>i;i++)exports[i]=cachedMods[uris[i]].exec();callback&&callback.apply(global,exports),delete mod.callback},mod.load()},seajs.use=function(ids,callback){return Module.use(ids,callback,data.cwd+"_use_"+cid()),seajs},Module.define.cmd={},global.define=Module.define,seajs.Module=Module,data.fetchedList=fetchedList,data.cid=cid,seajs.require=function(id){var mod=Module.get(Module.resolve(id));return mod.status<STATUS.EXECUTING&&(mod.onload(),mod.exec()),mod.exports},data.base=loaderDir,data.dir=loaderDir,data.cwd=cwd,data.charset="utf-8",seajs.config=function(configData){for(var key in configData){var curr=configData[key],prev=data[key];if(prev&&isObject(prev))for(var k in curr)prev[k]=curr[k];else isArray(prev)?curr=prev.concat(curr):"base"===key&&("/"!==curr.slice(-1)&&(curr+="/"),curr=addBase(curr)),data[key]=curr}return emit("config",configData),seajs}}}(this);